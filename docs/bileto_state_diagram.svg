<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="957px" preserveAspectRatio="none" style="width:1296px;height:957px;" version="1.1" viewBox="0 0 1296 957" width="1296px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g4ji1fxjtfq4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="89" x="0" y="9.668">Bileto Ticket Store</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="3" y="21.4453"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="314" x="485" y="40.957">Bileto Smart Contract State Diagram</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="645" y="62.1563"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="282.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="192" x="6" y="352.4531"/><rect fill="#FFFFFF" height="250" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="186" x="9" y="381.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="6" x2="198" y1="378.9414" y2="378.9414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="84" y="370.9883">Store</text><ellipse cx="81.5" cy="401.9414" fill="#000000" filter="url(#f1g4ji1fxjtfq4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="129" x="17" y="464.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="17" x2="146" y1="491.4297" y2="491.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="27" y="483.4766">Store.Unpaused</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="22" y="508.0313">By Role.Pauser</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="109" x="27" y="568.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="27" x2="136" y1="595.4297" y2="595.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="37" y="587.4766">Store.Paused</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="32" y="612.0313">By Role.Pauser</text><!--link *start*Store to Store.Unpaused--><path d="M81.5,412.0935 C81.5,423.6144 81.5,442.9598 81.5,459.5442 " fill="none" id="*start*Store-Store.Unpaused" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="81.5,464.5907,85.5,455.5907,81.5,459.5907,77.5,455.5907,81.5,464.5907" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="82.5" y="443.5098">constructor()</text><!--link Store.Unpaused to Store.Paused--><path d="M56.8566,516.3936 C53.0166,521.8208 49.6227,527.7788 47.5,533.9414 C43.8932,544.4128 47.2603,555.1646 53.058,564.6454 " fill="none" id="Store.Unpaused-Store.Paused" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="55.8765,568.9064,54.2476,559.1932,53.1181,564.7361,47.5751,563.6067,55.8765,568.9064" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="48.5" y="547.5098">pause()</text><!--link Store.Paused to Store.Unpaused--><path d="M91.1944,568.6707 C94.1274,557.9835 96.1788,545.422 94.5,533.9414 C93.8934,529.7932 92.9777,525.491 91.9076,521.2778 " fill="none" id="Store.Paused-Store.Unpaused" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="90.5896,516.3874,89.0697,526.1183,91.8909,521.2151,96.7941,524.0362,90.5896,516.3874" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="95.5" y="547.5098">unpause()</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="839.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="616" x="233" y="73.9531"/><rect fill="#FFFFFF" height="807" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="610" x="236" y="103.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="233" x2="849" y1="100.4414" y2="100.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="522.5" y="92.4883">Event</text><ellipse cx="301.5" cy="123.4414" fill="#000000" filter="url(#f1g4ji1fxjtfq4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="115" x="244" y="186.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="244" x2="359" y1="212.9297" y2="212.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="254" y="204.9766">Event.Created</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="249" y="229.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="249" y="243.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="145" x="358" y="304.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="358" x2="503" y1="330.9297" y2="330.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="368" y="322.9766">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="363" y="347.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="363" y="361.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="129" x="432" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="432" x2="561" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="442.5" y="676.9766">Event.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="437" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="437" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="172" x="471.5" y="422.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="471.5" x2="643.5" y1="448.9297" y2="448.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="481.5" y="440.9766">Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="476.5" y="465.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="476.5" y="479.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="154" x="598.5" y="540.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="598.5" x2="752.5" y1="566.9297" y2="566.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="608.5" y="558.9766">Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="603.5" y="583.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="603.5" y="597.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="136" x="586.5" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="586.5" x2="722.5" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="596.5" y="676.9766">Event.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="591.5" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="591.5" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="108" x="575.5" y="776.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="575.5" x2="683.5" y1="802.9297" y2="802.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="585.5" y="794.9766">Event.Settled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="580.5" y="819.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="580.5" y="833.6641">Store.Open</text><ellipse cx="542.5" cy="888.4414" fill="none" filter="url(#f1g4ji1fxjtfq4)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="543" cy="888.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*Event to Event.Created--><path d="M301.5,133.6616 C301.5,144.9994 301.5,163.963 301.5,181.1324 " fill="none" id="*start*Event-Event.Created" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="301.5,186.3929,305.5,177.3929,301.5,181.3929,297.5,177.3929,301.5,186.3929" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="302.5" y="165.0098">createEvent()</text><!--link Event.Created to Event.SalesStarted--><path d="M337.0913,251.4978 C353.7312,266.7188 373.6077,284.9004 390.7396,300.5714 " fill="none" id="Event.Created-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="394.577,304.0816,390.636,295.0556,390.8877,300.7069,385.2364,300.9585,394.577,304.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="375.5" y="283.0098">startTicketSales()</text><!--link Event.Created to Event.Cancelled--><path d="M294.6681,251.5886 C290.3194,275.1885 285.5,307.895 285.5,336.9414 C285.5,336.9414 285.5,336.9414 285.5,572.9414 C285.5,638.9735 365.1911,668.4109 426.6235,681.2936 " fill="none" id="Event.Created-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="431.7591,682.3413,423.7403,676.6231,426.86,681.3419,422.1412,684.4616,431.7591,682.3413" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="286.5" y="460.0098">cancelEvent()</text><!--link Event.SalesStarted to Event.SalesSuspended--><path d="M423.8366,369.449 C423.1358,381.3732 424.5955,394.3968 431.5,404.4414 C440.2555,417.1788 452.7949,426.7042 466.6046,433.8275 " fill="none" id="Event.SalesStarted-Event.SalesSuspended" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="471.333,436.1523,465.0213,428.5917,466.846,433.9462,461.4915,435.7709,471.333,436.1523" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="432.5" y="401.0098">suspendTicketSales()</text><!--link Event.SalesStarted to Event.SalesFinished--><path d="M503.0673,342.0123 C569.2832,348.2392 660.3851,361.3637 684.5,387.4414 C725.4547,431.7294 711.2921,463.4916 698.5,522.4414 C697.5749,526.7045 696.2575,531.0395 694.7155,535.2875 " fill="none" id="Event.SalesStarted-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="692.8122,540.2248,699.7818,533.266,694.6107,535.5595,692.3173,530.3884,692.8122,540.2248" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="712.5" y="460.0098">endTicketSales()</text><!--link Event.SalesStarted to Event.Cancelled--><path d="M423.7973,369.6985 C422.8409,375.5817 422.0098,381.6753 421.5,387.4414 C418.0939,425.9661 405.0423,433.1755 424.5,522.4414 C434.7998,569.6939 458.2574,620.2465 475.6132,653.5163 " fill="none" id="Event.SalesStarted-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="478.1273,658.2971,477.4785,648.4696,475.8,653.8717,470.3979,652.1932,478.1273,658.2971" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="425.5" y="519.0098">cancelEvent()</text><!--link Event.SalesSuspended to Event.SalesStarted--><path d="M570.0802,422.1319 C572.4853,410.3065 572.4274,397.4289 565.5,387.4414 C557.9814,376.6015 533.7557,366.1243 507.8604,357.5498 " fill="none" id="Event.SalesSuspended-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="503.0094,355.9712,510.3298,362.56,507.764,357.5185,512.8054,354.9527,503.0094,355.9712" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="571.5" y="401.0098">startTicketSales()</text><!--link Event.SalesSuspended to Event.SalesFinished--><path d="M571.2176,487.7353 C577.207,499.5588 585.0435,512.4393 594.5,522.4414 C599.4951,527.7247 605.1573,532.6804 611.1111,537.2656 " fill="none" id="Event.SalesSuspended-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="615.275,540.3803,610.4639,531.7865,611.2711,537.3855,605.6722,538.1927,615.275,540.3803" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="595.5" y="519.0098">endTicketSales()</text><!--link Event.SalesSuspended to Event.Cancelled--><path d="M532.4354,487.632 C522.1776,502.8496 511.3593,521.7041 505.5,540.4414 C493.9057,577.5185 492.7299,622.1885 493.7894,653.1859 " fill="none" id="Event.SalesSuspended-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="493.9941,658.4242,497.6393,649.2747,493.7987,653.428,489.6454,649.5874,493.9941,658.4242" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="506.5" y="578.0098">cancelEvent()</text><!--link Event.SalesFinished to Event.Completed--><path d="M669.7061,605.4978 C667.0883,620.2072 663.9785,637.6814 661.2553,652.9829 " fill="none" id="Event.SalesFinished-Event.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="660.3479,658.0816,665.863,649.9218,661.224,653.159,657.9868,648.5199,660.3479,658.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="666.5" y="637.0098">completeEvent()</text><!--link Event.SalesFinished to Event.Cancelled--><path d="M605.6904,605.4772 C595.3355,611.0757 584.971,617.1363 575.5,623.4414 C561.619,632.6823 547.4623,644.0505 535.0388,654.8049 " fill="none" id="Event.SalesFinished-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="531.241,658.1197,540.6517,655.2148,535.0078,654.8317,535.3909,649.1878,531.241,658.1197" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="576.5" y="637.0098">cancelEvent()</text><!--link Event.Completed to Event.Settled--><path d="M647.6025,723.4978 C644.4861,738.2072 640.7839,755.6814 637.5421,770.9829 " fill="none" id="Event.Completed-Event.Settled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="636.4618,776.0816,642.2403,768.1061,637.4981,771.1902,634.414,766.448,636.4618,776.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="643.5" y="755.0098">settleEvent()</text><!--link Event.Settled to *end*Event--><path d="M593.8627,841.5065 C579.4461,854.6803 563.8377,868.9432 553.6583,878.2451 " fill="none" id="Event.Settled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="549.907,881.6729,559.2492,878.5545,553.598,878.3,553.8525,872.6489,549.907,881.6729" style="stroke: #383838; stroke-width: 1.0;"/><!--link Event.Cancelled to *end*Event--><path d="M504.096,723.5545 C514.1792,766.8467 531.5727,841.5252 538.9872,873.3594 " fill="none" id="Event.Cancelled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="540.1705,878.4398,542.0245,868.767,539.0362,873.5702,534.2331,870.5819,540.1705,878.4398" style="stroke: #383838; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="687.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="382" x="884" y="149.9531"/><rect fill="#FFFFFF" height="655" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="376" x="887" y="179.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="884" x2="1266" y1="176.4414" y2="176.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1044" y="168.4883">Purchase</text><ellipse cx="1066.5" cy="199.4414" fill="#000000" filter="url(#f1g4ji1fxjtfq4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="93.0195" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="248" x="942.5" y="262.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="942.5" x2="1190.5" y1="288.9297" y2="288.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="996" y="280.9766">Purchase.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="947.5" y="305.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="947.5" y="319.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="947.5" y="333.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="947.5" y="347.9297">Purchase.Quantity &lt;= Event.TicketsLeft</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="135.418" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="181" x="895" y="408.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="895" x2="1076" y1="434.9297" y2="434.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="919" y="426.9766">Purchase.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="900" y="451.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="900" y="465.6641">Store.Open OR Store.Closed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="900" y="479.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="900" y="493.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="900" y="508.0625">OR Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="900" y="522.1953">OR Event.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="900" y="536.3281">OR Store.Closed</text><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="78.8867" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="152" x="921.5" y="686.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="921.5" x2="1073.5" y1="712.9297" y2="712.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="931.5" y="704.9766">Purchase.Refunded</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="926.5" y="729.5313">By Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="926.5" y="743.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="926.5" y="757.7969">OR Store.Closed</text><ellipse cx="1060.5" cy="812.4414" fill="none" filter="url(#f1g4ji1fxjtfq4)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="1061" cy="812.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1g4ji1fxjtfq4)" height="107.1523" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="169" x="1064" y="561.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1064" x2="1233" y1="587.9297" y2="587.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1079.5" y="579.9766">Purchase.CheckedIn</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1069" y="604.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1069" y="618.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1069" y="632.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="1069" y="646.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1069" y="661.0625">OR Event.SalesFinished</text><!--link *start*Purchase to Purchase.Completed--><path d="M1066.5,209.5466 C1066.5,220.5806 1066.5,239.1001 1066.5,257.1832 " fill="none" id="*start*Purchase-Purchase.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1066.5,262.2654,1070.5,253.2654,1066.5,257.2654,1062.5,253.2654,1066.5,262.2654" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1067.5" y="241.0098">purchaseTickets()</text><!--link Purchase.Completed to Purchase.Cancelled--><path d="M1022.4664,355.8033 C1018.3773,361.4936 1014.6094,367.4283 1011.5,373.4414 C1006.637,382.8455 1002.6456,393.2141 999.3798,403.6355 " fill="none" id="Purchase.Completed-Purchase.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="997.9299,408.4241,1004.3664,400.9695,999.3789,403.6387,996.7097,398.6511,997.9299,408.4241" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1012.5" y="387.0098">cancelPurchase()</text><!--link Purchase.Cancelled to Purchase.Refunded--><path d="M952.3911,543.6918 C950.4285,549.5963 948.7477,555.5621 947.5,561.4414 C937.6279,607.961 930.8422,623.8988 947.5,668.4414 C949.2377,673.088 951.5392,677.607 954.202,681.9363 " fill="none" id="Purchase.Cancelled-Purchase.Refunded" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="956.9778,686.1999,955.4195,676.4751,954.2498,682.0097,948.7152,680.84,956.9778,686.1999" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="948.5" y="620.0098">refundPurchase()</text><!--link Purchase.Refunded to *end*Purchase--><path d="M1026.4186,765.6471 C1035.5364,778.166 1044.9446,791.0836 1051.5599,800.1665 " fill="none" id="Purchase.Refunded-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1054.5696,804.2988,1052.5045,794.6689,1051.626,800.2571,1046.0378,799.3786,1054.5696,804.2988" style="stroke: #383838; stroke-width: 1.0;"/><!--link Purchase.Completed to Purchase.CheckedIn--><path d="M1108.0095,355.7236 C1111.6743,361.4289 1114.9528,367.3888 1117.5,373.4414 C1142.2301,432.2029 1148.5809,505.5485 1149.6248,555.8985 " fill="none" id="Purchase.Completed-Purchase.CheckedIn" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1149.7141,561.0032,1153.5559,551.9345,1149.6265,556.004,1145.5571,552.0746,1149.7141,561.0032" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="1124.5" y="387.0098">checkIn()</text><!--link Purchase.CheckedIn to *end*Purchase--><path d="M1125.2977,668.7168 C1112.7885,697.487 1096.9865,733.4785 1082.5,765.4414 C1077.4326,776.622 1071.5274,789.2148 1067.1116,798.5495 " fill="none" id="Purchase.CheckedIn-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1064.9505,803.1093,1072.4196,796.6896,1067.0919,798.5911,1065.1904,793.2634,1064.9505,803.1093" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="1284" y="932.6211"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="257" x="1027" y="944.3984">2019-02-12 by Fábio Corrêa &lt;feamcor@gmail.com&gt;</text><!--
@startuml bileto_state_diagram
skinparam Monochrome true
left header Bileto Ticket Store\n
right footer \n2019-02-12 by Fábio Corrêa <feamcor@gmail.com>

title Bileto Smart Contract State Diagram\n

state Store {
    [*] - -> Store.Unpaused: constructor()
    Store.Unpaused: By Role.Pauser
    Store.Unpaused - -> Store.Paused: pause()
    Store.Paused: By Role.Pauser
    Store.Paused - -> Store.Unpaused: unpause()
}

state Event {
    [*] - -> Event.Created: createEvent()
    Event.Created: By Store.Owner
    Event.Created: Store.Open
    Event.Created - -> Event.SalesStarted: startTicketSales()
    Event.Created - -> Event.Cancelled: cancelEvent()
    Event.SalesStarted: By Event.Organizer
    Event.SalesStarted: Store.Open
    Event.SalesStarted - -> Event.SalesSuspended: suspendTicketSales()
    Event.SalesStarted - -> Event.SalesFinished: endTicketSales()
    Event.SalesStarted - -> Event.Cancelled: cancelEvent()
    Event.SalesSuspended: By Event.Organizer
    Event.SalesSuspended: Store.Open
    Event.SalesSuspended - -> Event.SalesStarted: startTicketSales()
    Event.SalesSuspended - -> Event.SalesFinished: endTicketSales()
    Event.SalesSuspended - -> Event.Cancelled: cancelEvent()
    Event.SalesFinished: By Event.Organizer
    Event.SalesFinished: Store.Open
    Event.SalesFinished - -> Event.Completed: completeEvent()
    Event.SalesFinished - -> Event.Cancelled: cancelEvent()
    Event.Completed: By Event.Organizer
    Event.Completed: Store.Open
    Event.Completed - -> Event.Settled: settleEvent()
    Event.Settled: By Store.Owner
    Event.Settled: Store.Open
    Event.Settled - -> [*]
    Event.Cancelled: By Event.Organizer
    Event.Cancelled: Store.Open
    Event.Cancelled - -> [*]
}

state Purchase {
    [*] - -> Purchase.Completed: purchaseTickets()
    Purchase.Completed: By Customer
    Purchase.Completed: Store.Open
    Purchase.Completed: Event.SalesStarted
    Purchase.Completed: Purchase.Quantity <= Event.TicketsLeft
    Purchase.Completed - -> Purchase.Cancelled: cancelPurchase()
    Purchase.Cancelled: By Customer
    Purchase.Cancelled: Store.Open OR Store.Closed
    Purchase.Cancelled: Event.SalesStarted
    Purchase.Cancelled: OR Event.SalesSuspended
    Purchase.Cancelled: OR Event.SalesFinished
    Purchase.Cancelled: OR Event.Cancelled
    Purchase.Cancelled: OR Store.Closed
    Purchase.Cancelled - -> Purchase.Refunded: refundPurchase()
    Purchase.Refunded: By Organizer
    Purchase.Refunded: Store.Open
    Purchase.Refunded: OR Store.Closed
    Purchase.Refunded - -> [*]
    Purchase.Completed - -> Purchase.CheckedIn: checkIn()
    Purchase.CheckedIn: By Customer
    Purchase.CheckedIn: Store.Open
    Purchase.CheckedIn: Event.SalesStarted
    Purchase.CheckedIn: OR Event.SalesSuspended
    Purchase.CheckedIn: OR Event.SalesFinished
    Purchase.CheckedIn - -> [*]
}

@enduml

PlantUML version 1.2019.00(Sun Jan 13 12:46:42 CLST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: en
Country: CL
--></g></svg>